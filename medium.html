<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Flip Game 😊😊</title>
    <style>
        /* General Styles */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle, rgba(58,123,213,1) 0%, rgba(0,212,255,1) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        h1 {
            font-size: 3rem;
            color: #fff;
            text-align: center;
            margin-top: 0;
            animation: typing 3s steps(40, end), blink-caret .75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: white; }
        }

        .container {
            text-align: center;
            color: white;
            width: 100%;
            padding: 20px;
        }

        /* Main Menu */
        .main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* Responsive Game buttons */
        .button {
            padding: 15px 30px;
            font-size: 1.5rem;
            border-radius: 10px;
            border: none;
            background-color: #ff4e50;
            color: white;
            cursor: pointer;
            transition: transform 0.3s, background-color 0.3s;
            width: 80%;
            max-width: 300px;
        }

        .button:hover {
            transform: scale(1.1);
            background-color: #ff7e7e;
        }

        /* Game card grid for responsiveness */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            justify-content: center;
            margin: 30px 0;
            padding: 0 10px;
        }

        .game-button {
            width: 100%;
            padding-top: 100%;
            position: relative;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .game-button.flipped span {
            opacity: 1; /* Show emoji */
        }

        .game-button span {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: #333;
            opacity: 0; /* Hide initially */
            transition: opacity 0.3s;
        }

        /* Retry and Back buttons */
        .retry-btn, .back-btn {
            padding: 10px 20px;
            font-size: 1.2rem;
            color: white;
            background-color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .retry-btn:hover, .back-btn:hover {
            background-color: #555;
        }

        /* Cool Background Animation */
        .background-animate {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: url('https://i.pinimg.com/originals/a2/7c/d7/a27cd75f3a471484c5a6710e9252f617.gif') no-repeat center center;
            background-size: cover;
            z-index: -1;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .button {
                font-size: 1.2rem;
            }

            .game-button span {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <div class="background-animate"></div>

    <div class="container">
        <h1>Memory Flip Game 😊😊</h1>

        <!-- Main Menu -->
        <div id="main-menu" class="main-menu">
            <button class="button" onclick="startGame('easy')">Easy Mode</button>
            <button class="button" onclick="startGame('medium')">Medium Mode</button>
            <button class="button" onclick="startGame('hard')">Hard Mode</button>
            <button class="button" onclick="startGame('competitive')">Player vs Bot</button>
        </div>

        <!-- Game Grid -->
        <div id="game-grid" class="game-grid hidden">
            <!-- Memory cards will be generated here -->
        </div>

        <!-- Retry and Back Buttons -->
        <button id="retry-btn" class="retry-btn hidden" onclick="startGame(currentMode)">Retry</button>
        <button id="back-btn" class="back-btn hidden" onclick="goHome()">Back</button>
    </div>

    <script>
        let cards = [];
        let selectedCards = [];
        let matchedCards = [];
        let currentMode = 'easy';
        let emojiSet = [
            '😀', '😃', '😄', '😆', '😅', '😂', '🤣', '😇',
            '🥰', '😍', '🤩', '😘', '😋', '😜', '😎', '🤖'
        ];

        const gameGrid = document.getElementById('game-grid');
        const retryBtn = document.getElementById('retry-btn');
        const backBtn = document.getElementById('back-btn');
        const mainMenu = document.getElementById('main-menu');

        const modes = {
            easy: 4,  // 4 pairs of cards
            medium: 8,  // 8 pairs
            hard: 12,  // 12 pairs
            competitive: 8  // Competitive will use 8 pairs like medium
        };

        function startGame(mode) {
            currentMode = mode;
            mainMenu.classList.add('hidden');
            gameGrid.classList.remove('hidden');
            retryBtn.classList.remove('hidden');
            backBtn.classList.remove('hidden');
            generateCards(modes[mode]);
        }

        function generateCards(numPairs) {
            gameGrid.innerHTML = '';
            cards = [];
            matchedCards = [];
            selectedCards = [];

            // Select random emojis
            const selectedEmojis = emojiSet.sort(() => 0.5 - Math.random()).slice(0, numPairs);
            const cardValues = [...selectedEmojis, ...selectedEmojis];  // duplicate for matching

            // Shuffle cards
            cardValues.sort(() => Math.random() - 0.5);

            // Create card elements
            cardValues.forEach(value => {
                const card = document.createElement('div');
                card.classList.add('game-button');
                card.dataset.value = value;
                card.innerHTML = '<span>?</span>';
                card.addEventListener('click', handleCardClick);
                gameGrid.appendChild(card);
                cards.push(card);
            });
        }

        function handleCardClick(e) {
            const card = e.target.closest('.game-button');
            if (selectedCards.length < 2 && !card.classList.contains('flipped')) {
                card.classList.add('flipped');
                card.querySelector('span').innerText = card.dataset.value;
                selectedCards.push(card);

                if (selectedCards.length === 2) {
                    setTimeout(checkMatch, 1000);
                }
            }
        }

        function checkMatch() {
            const [card1, card2] = selectedCards;

            if (card1.dataset.value === card2.dataset.value) {
                card1.style.visibility = 'hidden';
                card2.style.visibility = 'hidden';
                matchedCards.push(card1, card2);
                selectedCards = [];
                if (matchedCards.length === cards.length) {
                    setTimeout(() => alert('You won!'), 500);
                }
            } else {
                card1.querySelector('span').innerText = '?';
                card2.querySelector('span').innerText = '?';
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                selectedCards = [];
            }
        }

        function goHome() {
            gameGrid.classList.add('hidden');
            retry
